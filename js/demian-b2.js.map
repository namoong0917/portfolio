{"version":3,"sources":["0"],"names":["_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","value","length","err","Array","isArray","Object","TypeError","_typeof","obj","constructor","prototype","_toConsumableArray","arr2","from","window","dmnActive","dmnversion","scriptError","jenniferFrontError","message","Error","error","source","lineNo","colNo","stack","type","allow_cookie","sampling_ratio","Number","can_fetch","isNaN","Math","random","isServerAlive","JSONStringify","_jsonStringify","JSON","stringify","toJSONContext","Prototype","toJSON","Hash","String","ret","pop","logError","log","DOMAIN","location","protocol","xhr","XDomainRequest","XMLHttpRequest","_demianNotCollect","ActiveXObject","open","send","onerror","console","e","now","Date","getTime","fetchAPM","pageId","data","url","txid","collect","arguments","timing","performance","startTime","navigationStart","requestStart","responseEnd","min","domInteractive","dnsLookup","domainLookupEnd","domainLookupStart","reqTime","responseStart","respTime","domTime","renderTime","loadEventEnd","params","appId","setRequestHeader","fetch","path","onreadystatechange","readyState","status","withCredentials","getUserSetting","category","key","dmndata","d","filterLocalhost","includes","hostname","guid","s4","floor","toString","substring","getVisitorId","document","cookie","match","RegExp","VISITOR_ID","visitorId","date","setTime","toUTCString","sendWithImage","sendImage","end","dmnatime","img","createElement","width","height","src","encodeURIComponent","href","start","body","appendChild","addEventListener","attachEvent","getCpuIdle","_get","requestIdleCallback","didTimeout","cpuIdleTime","timeout","scrapResources","getEntriesByType","payload","resources","resourceCursor","resource","duration","initiatorType","name","parseInt","transferSize","sendResources","sendAjaxRequests","ajaxRequest","concat","scrapErrors","scrap","msg","event","filename","lineno","colno","Promise","PromiseRejectionEvent","reason","fileName","lineNumber","columnNumber","sendScriptErrors","errors","linNo","scrapAjax","getDataSize","size","ArrayBuffer","byteLength","Blob","pushAjaxRequest","sentSize","endTime","_url","_demianURL","callbackTime","_demianCallbackStartTime","serverTime","_demianStartTime","method","_demianMethod","response","responseText","_","recvSize","_demianPushed","pushAjaxNetworkErrorRequest","_url2","hasJqueryHooked","$","this","apply","onloadendSuppport","_demianTimeouted","setTimeout","e2","originThen","then","_demianOnTrace","_demianTraceContext","originFetch","param","_this","_arguments","resolve","reject","callbackStartTime","content","context","callbackEndTime","_url3","_method","_sentSize","_body","sendData","applicationId","scriptTags","getElementsByTagName","scriptTag","hasJquery","async","indexOf","t","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","connectStart","connectEnd","secureConnectionStart","domLoading","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","isIE","navigator","msPointerEnabled","entries","msFirstPaint","_t","entryType","_window$performance$g","_window$performance$g2","navigation","r","nextHopProtocol","workerStart","encodedBodySize","decodedBodySize","paints","_i2","p","samplingRatio","hookedIfJquery","loadFinished","extra","connection","c","downlink","rtt","downlinkMax","effectiveType","memory","mem","totalJSHeapSize","usedJSHeapSize","jsHeapSizeLimit","hardwareConcurrency","cpuCount","jenniferIntg","_navigation","PerformanceNavigationTiming","serverTiming","timings","_i3","description","dmnajennifer","paramsText","split","jenniferAPM","transactionId","collectTime","domainId","userId","capturedUserId","clearResourceTimings","originClearResource","sendScrap","main","dmnaid"],"mappings":"AAAA,aAEA,IAAIA,eAAiB,WAAc,SAASC,cAAcC,IAAKC,GAAK,IAAIC,KAAO,GAAI,IAAIC,GAAK,KAAM,IAAIC,GAAK,MAAO,IAAIC,GAAKC,UAAW,IAAM,IAAK,IAAIC,GAAKP,IAAIQ,OAAOC,YAAaC,KAAMP,IAAMO,GAAKH,GAAGI,QAAQC,MAAOT,GAAK,KAAM,CAAED,KAAKW,KAAKH,GAAGI,OAAQ,GAAIb,GAAKC,KAAKa,SAAWd,EAAG,OAAW,MAAOe,KAAOZ,GAAK,KAAMC,GAAKW,IAAO,QAAU,IAAM,IAAKb,IAAMI,GAAG,UAAWA,GAAG,YAAe,QAAU,GAAIH,GAAI,MAAMC,IAAQ,OAAOH,KAAQ,OAAO,SAAUF,IAAKC,GAAK,GAAIgB,MAAMC,QAAQlB,KAAM,CAAE,OAAOA,SAAY,GAAIQ,OAAOC,YAAYU,OAAOnB,KAAM,CAAE,OAAOD,cAAcC,IAAKC,OAAW,CAAE,MAAM,IAAImB,UAAU,0DAAjkB,GAErB,IAAIC,eAAiBb,SAAW,mBAAqBA,OAAOC,WAAa,SAAW,SAAUa,KAAO,cAAcA,KAAS,SAAUA,KAAO,OAAOA,YAAcd,SAAW,YAAcc,IAAIC,cAAgBf,QAAUc,MAAQd,OAAOgB,UAAY,gBAAkBF,KAEtQ,SAASG,mBAAmBzB,KAAO,GAAIiB,MAAMC,QAAQlB,KAAM,CAAE,IAAK,IAAIC,EAAI,EAAGyB,KAAOT,MAAMjB,IAAIe,QAASd,EAAID,IAAIe,OAAQd,IAAK,CAAEyB,KAAKzB,GAAKD,IAAIC,GAAM,OAAOyB,SAAa,CAAE,OAAOT,MAAMU,KAAK3B,OAG1L,WAEI,GAAI4B,OAAOC,YAAcvB,UAAW,OACpCsB,OAAOC,UAAY,KACnBD,OAAOE,WAAa,MAEpB,IAAIC,YAAc,GAClBH,OAAOI,mBAAqB,SAAUC,SAClC,IACI,MAAMC,MAAMD,SACd,MAAOE,OACLJ,YAAYlB,KAAK,CACboB,QAAS,gBAAkBA,QAC3BG,OAAQ,YACRC,OAAQ,EACRC,MAAO,EACPC,MAAOJ,OAASA,MAAMI,MAAQJ,MAAMI,MAAQjC,UAC5CkC,KAAM,kBAKlB,IAAIC,aAAe,uBAAyB,QAC5C,IAAIC,eAAiBC,OAAO,wBAC5B,IAAIC,UAAYF,iBAAmB,GAAKG,MAAMH,gBAAkB,KAAOA,eAAiBI,KAAKC,SAE7F,IAAIC,cAAgB,KAKpB,SAASC,cAAcnC,OACnB,IAAIoC,eAAiBC,KAAKC,UAC1B,IAAIC,cAAgB,GACpB,GAAIzB,OAAO0B,UAAW,CAElBD,cAAcxC,KAAKM,OAAOK,UAAU+B,QAAU,MAC9CF,cAAcxC,KAAKI,MAAMO,UAAU+B,QAAU,MAC7CF,cAAcxC,KAAK2C,KAAKhC,UAAU+B,QAAU,MAC5CF,cAAcxC,KAAK4C,OAAOjC,UAAU+B,QAAU,aACvCpC,OAAOK,UAAU+B,cACjBtC,MAAMO,UAAU+B,cAChBC,KAAKhC,UAAU+B,cACfE,OAAOjC,UAAU+B,OAE5B,IAAIG,IAAMR,eAAepC,OACzB,GAAIc,OAAO0B,UAAW,CAElBG,OAAOjC,UAAU+B,OAASF,cAAcM,MACxCH,KAAKhC,UAAU+B,OAASF,cAAcM,MACtC1C,MAAMO,UAAU+B,OAASF,cAAcM,MACvCxC,OAAOK,UAAU+B,OAASF,cAAcM,MAG5C,OAAOD,IAGX,SAASE,SAASC,KACd,IACI,IAAIC,OAASC,SAASC,SAAW,2BACjC,IAAIC,IAAM,KACV,GAAIrC,OAAOsC,eACPD,IAAM,IAAIrC,OAAOsC,oBAAsB,GAAItC,OAAOuC,eAAgB,CAClEF,IAAM,IAAIE,eACVF,IAAIG,kBAAoB,UACrB,GAAIxC,OAAOyC,cAAeJ,IAAM,IAAII,cAAc,0BAA0B,KAAM,GAEzFJ,IAAIK,KAAK,OAAQR,OAAS,mBAAoB,MAC9CG,IAAIM,KAAKV,KACTI,IAAIO,QAAU,WACVC,QAAQZ,IAAIA,MAElB,MAAOa,GACL,GAAID,QAASA,QAAQZ,IAAIa,IAIjC,IACI,IAAIC,IAAM,SAASA,MAEf,OAAO,IAAIC,MAAOC,WAItB,IAAIC,SAAW,SAASA,SAASC,OAAQC,KAAMC,IAAKC,MAChD,IAAIC,QAAUC,UAAUrE,OAAS,GAAKqE,UAAU,KAAO9E,UAAY8E,UAAU,GAAK,MAElF,IAAInB,IAAM,KACVA,IAAM,IAAIE,eACVF,IAAIG,mBAAqBe,QAEzB,IAAIE,OAASL,KAAKM,YAAYD,OAC9B,IAAIE,UAAYF,OAAOG,iBAAmBH,OAAOI,aAGjD,IAAIC,YAAc5C,KAAK6C,IAAIN,OAAOK,YAAaL,OAAOO,gBAEtD,IAAIC,UAAYR,OAAOS,gBAAkBT,OAAOU,kBAChD,IAAIC,QAAUX,OAAOY,cAAgBV,UACrC,IAAIW,SAAWR,YAAcL,OAAOY,cACpC,IAAIE,QAAUd,OAAOO,eAAiBF,YAGtC,IAAIU,WAAaf,OAAOgB,aAAehB,OAAOO,eAC9C,GAAIQ,WAAa,EAAGA,WAAa,EAEjC,IAAIE,OAAS,QAAUpB,KAAO,QAAUiB,QAAU,WAAaC,WAAa,QAAUP,UAAY,QAAUG,QAAU,SAAWE,SAAW,UAAYK,MAAQ,eAAiBxB,OACjLd,IAAIK,KAAK,MAAOW,IAAM,IAAMqB,OAAQ,MACpCrC,IAAIuC,iBAAiB,oBAAqB,QAC1CvC,IAAIM,KAAKS,OAGb,IAAIyB,MAAQ,SAASA,MAAMzB,MACvB,IAAI0B,KAAOtB,UAAUrE,OAAS,GAAKqE,UAAU,KAAO9E,UAAY8E,UAAU,GAAK,OAC/E,IAAID,QAAUC,UAAUrE,OAAS,GAAKqE,UAAU,KAAO9E,UAAY8E,UAAU,GAAK,MAElF,IAAKxC,UAAW,OAChB,IAAIqB,IAAM,KACV,GAAIrC,OAAOsC,eACPD,IAAM,IAAIrC,OAAOsC,mBAAsB,CACvCD,IAAM,IAAIE,eACVF,IAAIG,mBAAqBe,QAE7BlB,IAAIK,KAAK,OAAQR,OAAS,IAAM4C,KAAM,MACtCzC,IAAI0C,mBAAqB,WACrB,GAAI1C,IAAI2C,aAAe,GAAK3C,IAAI4C,OAAS,KAAO,EAAG,CAC/C7D,cAAgB,QAGxBiB,IAAI6C,gBAAkB,KACtB7C,IAAIO,QAAU,WACVxB,cAAgB,OAEpBiB,IAAIM,KAAKS,OAGb,IAAI+B,eAAiB,SAASA,eAAeC,SAAUC,KACnD,IAAIjC,KAAOpD,OAAOsF,QAClB,GAAIlC,MAAQ,MAAQA,gBAAgB/D,OAAS+D,KAAKjE,QAAU,EAAG,CAC3D,IAAK,IAAId,EAAI,EAAGA,EAAI+E,KAAKjE,OAAQd,IAAK,CAClC,IAAIkH,EAAInC,KAAK/E,GACb,GAAIkH,EAAEH,WAAa,MAAQ3F,QAAQ8F,EAAEH,YAAc,UAAYG,EAAEH,UAAUC,OAAS3G,UAAW,CAC3F,OAAO6G,EAAEH,UAAUC,WAGxB,CACH,OAAO3G,YAIf,IAAI8G,gBAAkB,SAASA,kBAC3B,OAAOL,eAAe,SAAU,eAAiB,MAAQ,CAAC,YAAa,YAAa,GAAI,OAAOM,SAASzF,OAAOmC,SAASuD,WAG5H,IAAIC,KAAO,SAASA,OAChB,SAASC,KACL,OAAO1E,KAAK2E,OAAO,EAAI3E,KAAKC,UAAY,OAAS2E,SAAS,IAAIC,UAAU,GAE5E,OAAOH,KAAOA,KAAO,IAAMA,KAAO,IAAMA,KAAO,IAAMA,KAAO,IAAMA,KAAOA,KAAOA,MAGpF,IAAII,aAAe,SAASA,eACxB,IAAI9G,MAAQ+G,SAASC,OAAOC,MAAM,IAAIC,OAAO,UAAYC,WAAa,kBACtE,IAAIC,UAAY,KAChB,GAAIpH,OAASA,MAAM,IAAM,GAAIoH,UAAYpH,MAAM,QAAQoH,UAAYX,OAEnE,GAAI9E,aAAc,CACd,IAAI0F,KAAO,IAAIvD,KACfuD,KAAKC,QAAQD,KAAKtD,UAAY,GAAK,GAAK,GAAK,KAC7CgD,SAASC,OAASG,WAAa,IAAMC,UAAY,YAAcC,KAAKE,cAAgB,UAGxF,OAAOH,WAGX,IAAII,cAAgB,SAASA,gBAEzB,SAASC,YACL,IAAIC,IAAM5G,OAAO6G,SACjBD,IAAMA,eAAe5D,KAAO4D,IAAI3D,UAAYF,MAC5C,IAAI+D,IAAMb,SAASc,cAAc,OACjCD,IAAIE,MAAQ,EACZF,IAAIG,OAAS,EACbH,IAAII,IAAMhF,QAAU,sBAAwBiF,mBAAmBxC,OAAS,cAAgBwC,mBAAmBnB,gBAAkB,WAAamB,mBAAmBxB,QAAU,QAAUwB,mBAAmBhF,SAASiF,MAAQ,aAAeD,mBAAmBP,IAAMS,QAC7P,GAAIpB,SAASqB,MAAQrB,SAASqB,KAAKC,YAAa,CAC5CtB,SAASqB,KAAKC,YAAYT,MAIlC,GAAIb,SAASjB,YAAc,WAAY,CACnCqC,MAAQtE,MACR4D,gBACG,CACH,GAAI3G,OAAOwH,iBAAkBxH,OAAOwH,iBAAiB,OAAQb,gBAAgB,GAAI3G,OAAOyH,YAAaxB,SAASwB,YAAY,qBAAsB,WAC5I,GAAIxB,SAASjB,aAAe,WAAY2B,gBAMpD,IAAIe,WAAa,SAASA,cACtB,SAAUC,OACN,UAAW3H,OAAO4H,qBAAuB,WAAY,OACrD5H,OAAO4H,oBAAoB,SAAUrC,GACjC,GAAIA,EAAEsC,YAAc5B,SAASjB,YAAc,UAAW2C,YAAYG,YAAcpE,YAAYX,OAC7F,CAAEgF,QAAS,OAJlB,IAQJ,IAAIC,eAAiB,SAASA,iBAC1B,GAAItE,YAAYuE,iBAAkB,CAC9B,IAAIC,QAAU,GACd,IAAIC,UAAYzE,YAAYuE,iBAAiB,YAC7C,GAAIE,UAAUhJ,QAAU,EAAG,OAAO,KAClC,KAAOiJ,eAAiBD,UAAUhJ,OAAQiJ,iBAAkB,CACxD,IAAIC,SAAWF,UAAUC,gBACzB,GAAIC,UAAY,MAAQA,SAASC,UAAY,GAG7CD,SAASE,eAAiB,kBAAoBF,SAASE,eAAiB,SAAWF,SAASE,eAAiB,iBAAkB,SAE/HL,QAAQjJ,KAAK,CAACoJ,SAASG,KAAMC,SAASJ,SAASC,UAAY,GAAID,SAASK,cAAgB,EAAI,KAAOD,SAASJ,SAASK,gBAGzH,GAAIR,QAAQ/I,QAAU,EAAG,OAAO,KAChC,OAAO+I,QAGX,OAAO,MAGX,IAAIS,cAAgB,SAASA,cAAcxF,QACvC,IAAIgF,UAAYH,iBAChB,GAAIG,UAAW,CAEXtD,MAAMxD,cAAc,CAAC8B,OAAQgF,YAAaxD,MAAQ,eAI1D,IAAIiE,iBAAmB,SAASA,iBAAiBzF,QAC7C,GAAI0F,YAAY1J,OAAS,EAAG,CACxB,IAAImI,KAAO,CAACnE,OAAQ,GAAG2F,OAAOjJ,mBAAmBgJ,eACjDA,YAAc,GACdhE,MAAMxD,cAAciG,MAAO3C,MAAQ,WAAY,SAIvD,IAAIoE,YAAc,SAASA,cACvB,IAAIC,MAAQ,SAASA,MAAMC,IAAK5F,IAAK5C,OAAQC,MAAOH,OAChDJ,YAAYlB,KAAK,CACboB,QAAS4I,IACTzI,OAAQ6C,IACR5C,OAAQA,OACRC,MAAOA,MACPC,MAAOJ,OAASA,MAAMI,MAAQJ,MAAMI,MAAQjC,UAC5CkC,KAAML,OAASA,MAAMZ,YAAcY,MAAMZ,YAAY6I,KAAO9J,aAGpE,GAAIsB,OAAOwH,iBAAkB,CACzBxH,OAAOwH,iBAAiB,QAAS,SAAU0B,OACvC,IAAI3I,MAAQ2I,MAAM3I,MAClByI,MAAME,MAAM7I,QAAS6I,MAAMC,SAAUD,MAAME,OAAQF,MAAMG,MAAO9I,SAEpE,GAAIP,OAAOsJ,SAAWtJ,OAAOuJ,sBAAuBvJ,OAAOwH,iBAAiB,qBAAsB,SAAU0B,OACxG,IAAI3I,MAAQ2I,MAAQA,MAAMM,OAAS,KACnC,GAAIjJ,OAASA,iBAAiBD,MAAO0I,MAAMzI,MAAMF,QAASE,MAAMkJ,SAAUlJ,MAAMmJ,WAAYnJ,MAAMoJ,aAAcpJ,WAK5H,IAAIqJ,iBAAmB,SAASA,iBAAiBzG,QAC7C,GAAIhD,YAAYhB,QAAU,EAAG,OAC7B,IAAI0K,OAAS,GASb,IAAK,IAAIxL,EAAI,EAAGA,EAAI8B,YAAYhB,OAAQd,IAAK,CACzC,IAAIyE,EAAI3C,YAAY9B,GACpBwL,OAAO5K,KAAK,CAAC6D,EAAEzC,QAASyC,EAAElC,KAAMkC,EAAEtC,OAAQsC,EAAEgH,MAAOhH,EAAEpC,MAAOoC,EAAEnC,QAGlER,YAAc,GAGd0E,MAAMxD,cAAc,CAAC8B,OAAQ0G,SAAUlF,MAAQ,cAGnD,IAAIoF,UAAY,SAASA,UAAU5G,QAC/B,GAAInD,OAAOuC,gBAAkB,KAAM,CAE/B,IAAIG,KAAOH,eAAe3C,UAAU8C,KACpC,IAAIC,KAAOJ,eAAe3C,UAAU+C,KAGpC,IAAIqH,YAAc,SAASA,YAAY5G,MACnC,GAAIA,MAAQ,KAAM,CACd,OAAO,EAEX,IAAI6G,KAAO,EACX,GAAIjK,OAAOkK,aAAe,KAAM,CAC5B,GAAI9G,gBAAgBpD,OAAOkK,YAAaD,KAAO7G,KAAK+G,WAExD,GAAInK,OAAOoK,MAAQ,KAAM,CACrB,GAAIhH,gBAAgBpD,OAAOoK,KAAMH,KAAO7G,KAAK6G,KAEjD,UAAW7G,KAAKjE,QAAU,SACtB8K,KAAO7G,KAAKjE,OAEhB,OAAO8K,MAIX,IAAII,gBAAkB,SAASA,gBAAgBhI,IAAKiI,UAChD,IACI,IAAIC,QAAUxH,MACd,IAAIyH,KAAOnI,IAAIoI,WACf,IAAIC,aAAeH,QAAUlI,IAAIsI,yBACjC,IAAIC,WAAavI,IAAIsI,yBAA2BtI,IAAIwI,iBACpD,IAAIC,OAASzI,IAAI0I,cAEjB,IAAIC,SAAW,KACf,IAEIA,SAAW3I,IAAI2I,UAAY3I,IAAI4I,cAAgB,KACjD,MAAOC,GACLF,SAAW,KAGf,IAAI/F,OAAS5C,IAAI4C,OACjB,GAAIA,QAAU,EACVA,OAAS,EAEb,IAAIkG,SAAWnB,YAAYgB,UAC3B,IAAI1D,KAAO,CAACkD,KAAM,CAACI,WAAYF,cAAe,CAACJ,SAAUa,UAAWlG,OAAQ6F,QAC5E,GAAIzI,IAAI+I,gBAAkB,MAAO,CAC7BvC,YAAY5J,KAAKqI,MACjBjF,IAAI+I,cAAgB,MAE1B,MAAOtI,GACLd,SAAS,cAAgBqB,IAAM,IAAMP,EAAEgD,cAI/C,IAAIuF,4BAA8B,SAASA,4BAA4BhJ,KACnE,IACI,IAAIiJ,MAAQjJ,IAAIoI,WAChB,IAAIK,OAASzI,IAAI0I,cACjB,IAAIzD,KAAO,CAACgE,MAAO,KAAM,KAAM,EAAGR,QAClCjC,YAAY5J,KAAKqI,MACnB,MAAOxE,GACLd,SAAS,oBAAsBqB,IAAM,IAAMP,EAAEgD,cAIrDyF,uBAAyBvL,OAAOwL,IAAM,WAGtCjJ,eAAe3C,UAAU8C,KAAO,SAAUoI,OAAQzH,KAE9C,IAAIhB,IAAMoJ,KAEV,IACI,IAAKpJ,IAAIG,kBAAmB,CACxBH,IAAIoI,WAAapH,IACjBhB,IAAIwI,iBAAmB9H,MACvBV,IAAI0I,cAAgBD,OACpBzI,IAAI+I,cAAgB,OAE1B,MAAOtI,GACLd,SAAS,cAAgBc,EAAEgD,YAC7B,QAEEpD,KAAKgJ,MAAMD,KAAMjI,aAIzBjB,eAAe3C,UAAU+C,KAAO,SAAUS,MAEtC,IAAIf,IAAMoJ,KACV,IAAIE,kBAAoB,cAAepJ,eAAe3C,UAEtD,IACI,IAAKyC,IAAIG,kBAAmB,CACxBH,IAAIuJ,iBAAmB,MACvB,IAAItB,SAAWN,YAAY5G,MAE3B,GAAIf,IAAImF,iBAAkB,CAEtB,GAAImE,kBAAmB,CACnBtJ,IAAImF,iBAAiB,UAAW,WAC5B6C,gBAAgBhI,IAAKiI,YAK7BjI,IAAImF,iBAAiB,mBAAoB,WACrC,GAAInF,IAAI2C,YAAc,EAAG,CACrB3C,IAAIsI,yBAA2B5H,MAC/B,IAAK4I,kBAAmB,CACpBE,WAAW,WACPxB,gBAAgBhI,IAAKiI,WACtB,SAMzB,MAAOxH,GACLd,SAAS,cAAgBK,IAAIoI,WAAa,IAAM3H,EAAEgD,YACpD,QACE,IACInD,KAAK+I,MAAMD,KAAMjI,WACnB,MAAOV,GACL,IAEIuI,4BAA4BhJ,KAC9B,MAAOyJ,IACL9J,SAAS,oBAAsBK,IAAIoI,WAAa,IAAM3H,EAAEgD,YAE5D,MAAMhD,KAMtB,GAAI9C,OAAO6E,OAAS,MAAQ7E,OAAOsJ,SAAW,KAAM,CAChD,IAAIyC,WAAazC,QAAQ1J,UAAUoM,KAEnC1C,QAAQ1J,UAAUoM,KAAO,WACrB,GAAIP,KAAKQ,eAAgB,CACrB,IAAInK,IAAMiK,WAAWL,MAAMD,KAAMjI,WACjC1B,IAAI,WAAW,WAEX,GAAIA,IAAI/C,MAAQL,UAAW,CACvBoD,IAAImK,eAAenK,IAAIoK,wBAG/BpK,IAAImK,eAAiBR,KAAKQ,eAC1BnK,IAAIoK,oBAAsBT,KAAKS,oBAC/BT,KAAK1M,KAAO+C,IACZ,OAAOA,QACJ,CACH,OAAOiK,WAAWL,MAAMD,KAAMjI,aAItC,IAAI2I,YAAcnM,OAAO6E,MACzB7E,OAAO6E,MAAQ,SAAUxB,IAAK+I,OAC1B,IAAIC,MAAQZ,KACRa,WAAa9I,UAEjB,IACI,IAAIG,UAAYZ,MAChB,IAAI+H,OAAS,MACb,IAAIR,SAAW,EACf,GAAI8B,OAAS,KAAM,CACftB,OAASsB,MAAMtB,QAAU,MACzB,IAAIxD,KAAO8E,MAAM9E,KACjB,GAAIA,MAAQ,MAAQwD,QAAU,MAAO,CACjC,GAAIxD,gBAAgBtH,OAAOkK,YAAaI,SAAWhD,KAAK6C,gBAAgB,GAAI7C,gBAAgBtH,OAAOoK,KAAME,SAAWhD,KAAK2C,UAAU,GAAI3C,KAAKnI,QAAU,KAClJmL,SAAWhD,KAAKnI,QAI5B,IAAI2C,IAAM,IAAIwH,QAAQ,SAAUiD,QAASC,QAErCL,YAAYT,MAAMW,MAAOC,YAAYN,KAAK,SAAU5I,MAChD,IACI,IAAIqJ,kBAAoB1J,MACxB,IAAIkC,OAAS7B,KAAK6B,OAClB,IAAI2F,WAAa6B,kBAAoB9I,UACrC7B,IAAIoK,oBAAoBQ,QAAU,CAC9BrJ,IAAKA,IAAKuH,WAAYA,WAAY6B,kBAAmBA,kBAAmBxH,OAAQA,OAAQ6F,OAAQA,OAAQR,SAAUA,UAExH,MAAOxH,GACLd,SAAS,kBAAoBc,EAAEgD,YACjC,QACEyG,QAAQb,MAAMD,KAAMjI,cAEzB,SAAS,WACR,OAAOgJ,OAAOd,MAAMD,KAAMjI,eAIlC1B,IAAIoK,oBAAsB,GAG1BpK,IAAImK,eAAiB,SAAUU,SAC3B,IACI,IAAID,QAAUC,QAAQD,QACtB,GAAIA,SAAW,KAAM,OACrB,IAAIE,gBAAkB7J,MACtB,IAAI8J,MAAQH,QAAQrJ,IACpB,IAAIuH,WAAa8B,QAAQ9B,WACzB,IAAIF,aAAekC,gBAAkBF,QAAQD,kBAC7C,IAAIxH,OAASyH,QAAQzH,OACrB,IAAI6H,QAAUJ,QAAQ5B,OACtB,IAAIiC,UAAYL,QAAQpC,SAExB,IAAI0C,MAAQ,CAACH,MAAO,CAACjC,WAAYF,cAAe,CAACqC,UAAW,GAAI9H,OAAQ6H,SAExEjE,YAAY5J,KAAK+N,OACnB,MAAOlK,GACLd,SAAS,eAAiBc,EAAEgD,cAIpC,OAAOhE,IACT,MAAOgB,GACLd,SAAS,UAAYc,EAAEgD,YACvB,OAAOqG,YAAY9I,IAAK+I,WAMxC,IAAIa,SAAW,SAASA,SAASC,cAAe/J,OAAQE,KACpD,IAAI8J,WAAalH,SAASmH,qBAAqB,UAC/C,IAAIC,UAAY,GAChB,IAAIC,UAAY,MAChB,IAAK,IAAIjP,EAAI,EAAGA,EAAI8O,WAAWhO,OAAQd,IAAK,CAExC,GAAI8O,WAAW9O,GAAG6I,KAAO,KAAOiG,WAAW9O,GAAG6I,IAAK,SACnDmG,UAAUpO,KAAK,CACXiI,IAAKiG,WAAW9O,GAAG6I,IACnBqG,MAAOJ,WAAW9O,GAAGkP,MAAQ,KAAO,QAExC,IAAKD,WAAaH,WAAW9O,GAAG6I,IAAIsG,QAAQ,UAAY,EAAG,CACvDF,UAAY,MAGpB,IAAI5J,YAAc,GAClB,GAAI1D,OAAO0D,YAAYD,OAAQ,CAC3B,IAAIgK,EAAIzN,OAAO0D,YAAYD,OAC3BC,YAAYD,OAAS,CACjBG,gBAAiB6J,EAAE7J,gBACnB8J,iBAAkBD,EAAEC,iBACpBC,eAAgBF,EAAEE,eAClBC,cAAeH,EAAEG,cACjBC,YAAaJ,EAAEI,YACfC,WAAYL,EAAEK,WACd3J,kBAAmBsJ,EAAEtJ,kBACrBD,gBAAiBuJ,EAAEvJ,gBACnB6J,aAAcN,EAAEM,aAChBC,WAAYP,EAAEO,WACdC,sBAAuBR,EAAEQ,sBACzBpK,aAAc4J,EAAE5J,aAChBQ,cAAeoJ,EAAEpJ,cACjBP,YAAa2J,EAAE3J,YACfoK,WAAYT,EAAES,WACdlK,eAAgByJ,EAAEzJ,eAClBmK,2BAA4BV,EAAEU,2BAC9BC,yBAA0BX,EAAEW,yBAC5BC,YAAaZ,EAAEY,YACfC,eAAgBb,EAAEa,eAClB7J,aAAcgJ,EAAEhJ,cAIxB,GAAIzE,OAAO0D,YAAYuE,kBAAoBjI,OAAO0D,YAAYD,OAAQ,CAElE,IAAI8K,KAAOvO,OAAOwO,UAAUC,iBAC5B,GAAIF,KAAM,CACN7K,YAAYgL,QAAU1O,OAAO0D,YAAYuE,iBAAiB,YAC1D,GAAIjI,OAAO0D,YAAYD,QAAUzD,OAAO0D,YAAYD,OAAOkL,aAAc,CACrE,IAAIC,GAAK5O,OAAO0D,YAAYD,OAC5BC,YAAYgL,QAAQzP,KAAK,CACrB4P,UAAW,QACXrG,KAAM,cACN7E,UAAWiL,GAAGD,aAAeC,GAAGhL,gBAChC0E,SAAU,SAGf,CAEH5E,YAAYgL,QAAU,GAItB,IAAII,sBAAwB9O,OAAO0D,YAAYuE,iBAAiB,cAC5D8G,uBAAyB7Q,eAAe4Q,sBAAuB,GAC/DE,WAAaD,uBAAuB,GAExCrL,YAAYgL,QAAQzP,KAAK+P,WAAWrN,UAEpC,IAAIwG,UAAYnI,OAAO0D,YAAYuE,iBAAiB,YACpD,IAAK,IAAItJ,GAAK,EAAGA,GAAKwJ,UAAUhJ,OAAQR,KAAM,CAC1C,IAAIsQ,EAAI9G,UAAUxJ,IAClB+E,YAAYgL,QAAQzP,KAAK,CACrB4P,UAAWI,EAAEJ,UACbrG,KAAMyG,EAAEzG,KACR7E,UAAWsL,EAAEtL,UACb2E,SAAU2G,EAAE3G,SACZC,cAAe0G,EAAE1G,cACjB2G,gBAAiBD,EAAEC,gBACnBC,YAAaF,EAAEE,YACfvB,cAAeqB,EAAErB,cACjBC,YAAaoB,EAAEpB,YACfC,WAAYmB,EAAEnB,WACd3J,kBAAmB8K,EAAE9K,kBACrBD,gBAAiB+K,EAAE/K,gBACnB6J,aAAckB,EAAElB,aAChBC,WAAYiB,EAAEjB,WACdC,sBAAuBgB,EAAEhB,sBACzBpK,aAAcoL,EAAEpL,aAChBQ,cAAe4K,EAAE5K,cACjBP,YAAamL,EAAEnL,YACf4E,aAAcuG,EAAEvG,aAChB0G,gBAAiBH,EAAEG,gBACnBC,gBAAiBJ,EAAEI,kBAI3B,IAAIC,OAAStP,OAAO0D,YAAYuE,iBAAiB,SACjD,IAAK,IAAIsH,IAAM,EAAGA,IAAMD,OAAOnQ,OAAQoQ,MAAO,CAC1C,IAAIC,EAAIF,OAAOC,KACf7L,YAAYgL,QAAQzP,KAAK,CACrB4P,UAAWW,EAAEX,UACbrG,KAAMgH,EAAEhH,KACR7E,UAAW6L,EAAE7L,UACb2E,SAAUkH,EAAElH,aAM5B,IAAIhB,KAAO,CACP4F,cAAeA,cACfuC,cAAe3O,eACf4O,eAAgBpC,UAAY/B,gBAAkB7M,UAC9C2E,IAAKA,IACLK,YAAaA,YACbiM,aAAc,KACdxM,OAAQA,OACRkK,UAAWA,UACXlN,YAAaA,YACbmG,UAAWN,eACX4J,MAAO,IAEX,GAAI9H,aAAe,KAAMR,KAAKQ,YAAcA,YAC5C,GAAIR,MAAQ,KAAMtF,SAAS,iBAC3B,GAAIwM,UAAUqB,YAAc,KAAM,CAC9B,IAAIC,EAAItB,UAAUqB,WAClBvI,KAAKsI,MAAMC,WAAa,CACpBE,SAAYD,EAAEC,SACdC,IAAOF,EAAEE,IACTpP,KAAQkP,EAAElP,KACVqP,YAAeH,EAAEG,YACjBC,cAAiBJ,EAAEI,eAG3B,GAAIlQ,OAAO0D,YAAYyM,QAAU,KAAM,CACnC,IAAIC,IAAMpQ,OAAO0D,YAAYyM,OAC7B7I,KAAKsI,MAAMO,OAAS,CAChBE,gBAAiBD,IAAIC,gBACrBC,eAAgBF,IAAIE,eACpBC,gBAAiBH,IAAIG,iBAI7B,GAAI/B,UAAUgC,qBAAuB,KAAM,CACvClJ,KAAKsI,MAAMa,SAAWjC,UAAUgC,oBAKpC,IAAIE,aAAe,KACnB,GAAI1Q,OAAO0D,YAAYuE,kBAAoBjI,OAAO0D,YAAYD,OAAQ,CAClE,IAAIkN,YAAc3Q,OAAO0D,YAAYuE,iBAAiB,cACtD,GAAI0I,aAAeA,YAAYxR,OAAS,GAAKa,OAAO4Q,6BAA+B,MAAQD,YAAY,aAAc3Q,OAAO4Q,6BAA+BD,YAAY,GAAGE,cAAgBnS,UAAW,CACjM,IAAIoS,QAAUH,YAAY,GAAGE,aAC7B,IAAK,IAAIE,OAAOD,QAAS,CACrB,IAAIrN,OAASqN,QAAQC,KACrB,GAAItN,OAAO+E,MAAQ,iBAAkB,CACjCkI,aAAejN,OAAOuN,eAOtC,GAAIN,cAAgB,aAAe1Q,OAAOiR,eAAiB,UAAYjR,OAAOiR,eAAiB,sBAAuB,CAClH,IAAIC,WAAalR,OAAOiR,aAAaE,MAAM,SAC3C,GAAID,WAAW/R,QAAU,GAAK+R,WAAW,IAAM,GAAI,CAC/CR,aAAeQ,WAAW,IAIlC,GAAIR,eAAiB,KAAM,CACvB,IACI,IAAIhM,OAASgM,aAAaS,MAAM,KAChC,GAAIzM,QAAU,MAAQA,OAAOvF,QAAU,EAAG,CACtC,GAAIuF,OAAO,IAAM,WAAY,CACzBxB,SAASC,OAAQmE,KAAM5C,OAAO,GAAIA,OAAO,IAE7C4C,KAAK8J,YAAc,CACfC,cAAiB3M,OAAO,GACxB4M,YAAe7I,SAAS/D,OAAO,IAC/B6M,SAAY7M,OAAO,KAG7B,MAAO5B,GACLd,SAAS,yBAA2Bc,EAAEgD,aAI9C,IAAI0L,OAASrM,eAAe,MAAO,UACnC,GAAIqM,QAAU,KAAM,CAChBlK,KAAKmK,eAAiBD,OAI1B3M,MAAMxD,cAAciG,OAEpB,GAAI5D,YAAYgO,uBAAyB,KAAM,CAC3C,IAAIC,oBAAsBjO,YAAYgO,qBACtChO,YAAYgO,qBAAuB,WAC/B1P,SAAS,kCACT,OAAO2P,uBAIf,IAAIC,UAAY,SAASA,YACrB,GAAIpM,kBAAmB,OACvBoE,iBAAiBzG,QACjBwF,cAAcxF,QACdyF,iBAAiBzF,QACjB,GAAI/B,gBAAkB,KAAM,CACxByK,WAAW,WACP+F,aACD,OAIXA,aAGJ,IAAIC,KAAO,SAASA,KAAK1O,QACrB,GAAI8C,SAASjB,YAAc,WAAY,CACnChF,OAAOwH,iBAAiB,OAAQ,WAC5BqE,WAAW,WACPoB,SAAStI,MAAOxB,OAAQE,MACzB,SAEJ,CACH4J,SAAStI,MAAOxB,OAAQE,OAOhC,GAAIlB,SAASC,UAAY,SAAWD,SAASC,UAAY,SAAU,OACnE,IAAIiF,MAAQtE,MACZ,IAAI4B,MAAQ3E,OAAO8R,OACnB,IAAIzO,IAAMlB,SAASiF,KACnB,IAAIf,WAAa,eACjB,IAAInE,OAASC,SAASC,SAAW,iCACjC,GAAIuC,OAAS,KAAM,OAInB,GAAItB,KAAO,MAAQA,KAAO,GAAI,OAE9B,IAAIyE,YAAc,KAClB,IAAIe,YAAc,GAClB,IAAIT,eAAiB,EACrB,IAAImD,gBAAkB,MAEtB,GAAIvL,OAAOuB,MAAQ,MAAQvB,OAAOuB,KAAKC,WAAa,MAAQxB,OAAO0D,aAAe,MAAQ1D,OAAO0D,YAAYD,QAAU,MAAQzD,OAAOwH,kBAAoB,KACxJ,CACMd,oBACG,CACP,GAAIlB,kBAAmB,OAEvB,IAAIrC,OAASwC,OACb+B,aACAqB,cACAgB,UAAU5G,QACV0O,KAAK1O,SAEX,MAAOL,GACLd,SAAS,mBAAqBc,EAAEgD,cAnxBxC","sourcesContent":["'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// encapsule\n(function () {\n    // exit if already activated.\n    if (window.dmnActive !== undefined) return;\n    window.dmnActive = true;\n    window.dmnversion = '1.0';\n\n    var scriptError = [];\n    window.jenniferFrontError = function (message) {\n        try {\n            throw Error(message);\n        } catch (error) {\n            scriptError.push({\n                message: 'CustomError: ' + message,\n                source: 'demian.js',\n                lineNo: 0,\n                colNo: 0,\n                stack: error && error.stack ? error.stack : undefined,\n                type: 'CustomError'\n            });\n        }\n    };\n\n    var allow_cookie = '{{ allow_cookie }}' !== 'False';\n    var sampling_ratio = Number('{{ sampling_ratio }}');\n    var can_fetch = sampling_ratio === 1 || isNaN(sampling_ratio) ? true : sampling_ratio > Math.random();\n\n    var isServerAlive = true;\n    // JSON.stringify search toJSON in modern browser, but Prototype.js\n    // implement toJSON it self, and make Array object to String type\n    // DEMIAN-386\n\n    function JSONStringify(value) {\n        var _jsonStringify = JSON.stringify;\n        var toJSONContext = [];\n        if (window.Prototype) {\n            // fucking Prototype.js\n            toJSONContext.push(Object.prototype.toJSON || null);\n            toJSONContext.push(Array.prototype.toJSON || null);\n            toJSONContext.push(Hash.prototype.toJSON || null);\n            toJSONContext.push(String.prototype.toJSON || null);\n            delete Object.prototype.toJSON;\n            delete Array.prototype.toJSON;\n            delete Hash.prototype.toJSON;\n            delete String.prototype.toJSON;\n        }\n        var ret = _jsonStringify(value);\n        if (window.Prototype) {\n            // fucking Prototype.js\n            String.prototype.toJSON = toJSONContext.pop();\n            Hash.prototype.toJSON = toJSONContext.pop();\n            Array.prototype.toJSON = toJSONContext.pop();\n            Object.prototype.toJSON = toJSONContext.pop();\n        }\n\n        return ret;\n    }\n\n    function logError(log) {\n        try {\n            var DOMAIN = location.protocol + '//d-api.jennifersoft.com';\n            var xhr = null;\n            if (window.XDomainRequest) // For IE 9\n                xhr = new window.XDomainRequest();else if (window.XMLHttpRequest) {\n                xhr = new XMLHttpRequest();\n                xhr._demianNotCollect = true;\n            } else if (window.ActiveXObject) xhr = new ActiveXObject(\"Microsoft.XMLHTTP\");else throw {};\n\n            xhr.open('POST', DOMAIN + '/api/collect-log', true);\n            xhr.send(log);\n            xhr.onerror = function () {\n                console.log(log);\n            };\n        } catch (e) {\n            if (console) console.log(e);\n        }\n    }\n\n    try {\n        var now = function now() {\n            // Date.now is not support in ie 9 below\n            return new Date().getTime();\n        };\n\n        // exit\n        var fetchAPM = function fetchAPM(pageId, data, url, txid) {\n            var collect = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n            var xhr = null;\n            xhr = new XMLHttpRequest();\n            xhr._demianNotCollect = !collect;\n\n            var timing = data.performance.timing;\n            var startTime = timing.navigationStart || timing.requestStart;\n\n            // DEMIAN-720: handle if responseEnd > domInteractive\n            var responseEnd = Math.min(timing.responseEnd, timing.domInteractive);\n\n            var dnsLookup = timing.domainLookupEnd - timing.domainLookupStart;\n            var reqTime = timing.responseStart - startTime;\n            var respTime = responseEnd - timing.responseStart;\n            var domTime = timing.domInteractive - responseEnd;\n\n            // ARIES-10334: loadEventEnd 0 if load event not fired\n            var renderTime = timing.loadEventEnd - timing.domInteractive;\n            if (renderTime < 0) renderTime = 0;\n\n            var params = \"txid=\" + txid + \"&dom=\" + domTime + \"&render=\" + renderTime + \"&dns=\" + dnsLookup + \"&req=\" + reqTime + \"&resp=\" + respTime + '&appId=' + appId + \"&pageLoadId=\" + pageId;\n            xhr.open('GET', url + '?' + params, true);\n            xhr.setRequestHeader('aries-fem-enabled', 'true');\n            xhr.send(data);\n        };\n\n        var fetch = function fetch(data) {\n            var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'json';\n            var collect = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n            if (!can_fetch) return;\n            var xhr = null;\n            if (window.XDomainRequest) // For IE 10\n                xhr = new window.XDomainRequest();else {\n                xhr = new XMLHttpRequest();\n                xhr._demianNotCollect = !collect;\n            }\n            xhr.open('POST', DOMAIN + '/' + path, true);\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState === 4 && xhr.status / 100 >= 5) {\n                    isServerAlive = false;\n                }\n            };\n            xhr.withCredentials = true;\n            xhr.onerror = function () {\n                isServerAlive = false;\n            };\n            xhr.send(data);\n        };\n\n        var getUserSetting = function getUserSetting(category, key) {\n            var data = window.dmndata;\n            if (data != null && data instanceof Array && data.length != 0) {\n                for (var i = 0; i < data.length; i++) {\n                    var d = data[i];\n                    if (d[category] != null && _typeof(d[category]) == 'object' && d[category][key] !== undefined) {\n                        return d[category][key];\n                    }\n                }\n            } else {\n                return undefined;\n            }\n        };\n\n        var filterLocalhost = function filterLocalhost() {\n            return getUserSetting('filter', 'localhost') === true && ['localhost', '127.0.0.1', '', '::1'].includes(window.location.hostname);\n        };\n\n        var guid = function guid() {\n            function s4() {\n                return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n            }\n            return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n        };\n\n        var getVisitorId = function getVisitorId() {\n            var value = document.cookie.match(new RegExp('(^|;) ?' + VISITOR_ID + '=([^;]*)(;|$)'));\n            var visitorId = null;\n            if (value && value[2] != '') visitorId = value[2];else visitorId = guid(); // create new\n            // re-new cookie\n            if (allow_cookie) {\n                var date = new Date();\n                date.setTime(date.getTime() + 48 * 60 * 60 * 1000); // exp in next 2 days...\n                document.cookie = VISITOR_ID + '=' + visitorId + ';expires=' + date.toUTCString() + ';path=/';\n            }\n\n            return visitorId;\n        };\n\n        var sendWithImage = function sendWithImage() {\n            // for legacy browsers\n            function sendImage() {\n                var end = window.dmnatime;\n                end = end instanceof Date ? end.getTime() : now();\n                var img = document.createElement('img');\n                img.width = 1;\n                img.height = 1;\n                img.src = DOMAIN + ('/img?applicationId=' + encodeURIComponent(appId) + '&visitorId=' + encodeURIComponent(getVisitorId()) + '&pageId=' + encodeURIComponent(guid()) + '&url=' + encodeURIComponent(location.href) + '&loadTime=' + encodeURIComponent(end - start));\n                if (document.body && document.body.appendChild) {\n                    document.body.appendChild(img);\n                }\n            }\n\n            if (document.readyState == 'complete') {\n                start = now(); // In this case, start time is meaningless\n                sendImage();\n            } else {\n                if (window.addEventListener) window.addEventListener('load', sendImage);else if (window.attachEvent) document.attachEvent('onreadystatechange', function () {\n                    if (document.readyState === 'complete') sendImage();\n                });\n                // else it is too old to send data... ex) ie4, 5...?\n            }\n        };\n\n        var getCpuIdle = function getCpuIdle() {\n            (function _get() {\n                if (typeof window.requestIdleCallback != 'function') return;\n                window.requestIdleCallback(function (d) {\n                    if (d.didTimeout || document.readyState == 'loading') _get();else cpuIdleTime = performance.now();\n                }, { timeout: 10000 });\n            })();\n        };\n\n        var scrapResources = function scrapResources() {\n            if (performance.getEntriesByType) {\n                var payload = [];\n                var resources = performance.getEntriesByType('resource');\n                if (resources.length == 0) return null;\n                for (; resourceCursor < resources.length; resourceCursor++) {\n                    var resource = resources[resourceCursor];\n                    if (resource == null || resource.duration == 0 ||\n                    // resource.transferSize == 0 ||\n                    // resource.transferSize == null ||\n                    resource.initiatorType == 'xmlhttprequest' || resource.initiatorType == 'fetch' || resource.initiatorType == 'xdomainrequest') continue;\n\n                    payload.push([resource.name, parseInt(resource.duration || 0), resource.transferSize == 0 ? null : parseInt(resource.transferSize)]);\n                }\n\n                if (payload.length == 0) return null;\n                return payload;\n            }\n\n            return null;\n        };\n\n        var sendResources = function sendResources(pageId) {\n            var resources = scrapResources();\n            if (resources) {\n                // send!\n                fetch(JSONStringify([pageId, resources]), appId + '/resource');\n            }\n        };\n\n        var sendAjaxRequests = function sendAjaxRequests(pageId) {\n            if (ajaxRequest.length > 0) {\n                var body = [pageId, [].concat(_toConsumableArray(ajaxRequest))];\n                ajaxRequest = [];\n                fetch(JSONStringify(body), appId + '/ajax-v2', false);\n            }\n        };\n\n        var scrapErrors = function scrapErrors() {\n            var scrap = function scrap(msg, url, lineNo, colNo, error) {\n                scriptError.push({\n                    message: msg,\n                    source: url,\n                    lineNo: lineNo,\n                    colNo: colNo,\n                    stack: error && error.stack ? error.stack : undefined,\n                    type: error && error.constructor ? error.constructor.name : undefined\n                });\n            };\n            if (window.addEventListener) {\n                window.addEventListener('error', function (event) {\n                    var error = event.error;\n                    scrap(event.message, event.filename, event.lineno, event.colno, error);\n                });\n                if (window.Promise && window.PromiseRejectionEvent) window.addEventListener('unhandledrejection', function (event) {\n                    var error = event ? event.reason : null;\n                    if (error && error instanceof Error) scrap(error.message, error.fileName, error.lineNumber, error.columnNumber, error);\n                });\n            }\n        };\n\n        var sendScriptErrors = function sendScriptErrors(pageId) {\n            if (scriptError.length <= 0) return;\n            var errors = [];\n            /*\n                \"utilProc.isLinerBlockedPage is not a function\",   // message\n                \"TypeError\",            // type\n                \"/addons/oembed/jquery.oembed.min.js\", // javascript URL\n                30,    // row\n                500,   // colomn\n                \"method1()\\nmethod2()\"   // stacktrace\n            */\n            for (var i = 0; i < scriptError.length; i++) {\n                var e = scriptError[i];\n                errors.push([e.message, e.type, e.source, e.linNo, e.colNo, e.stack]);\n            }\n            // clear script error buffer\n            scriptError = [];\n\n            // send!\n            fetch(JSONStringify([pageId, errors]), appId + '/js-error');\n        };\n\n        var scrapAjax = function scrapAjax(pageId) {\n            if (window.XMLHttpRequest != null) {\n                // XHR 객체의 open, send 메소드를 hook 합니다. \n                var open = XMLHttpRequest.prototype.open;\n                var send = XMLHttpRequest.prototype.send;\n\n                // data 타입에 따라 size 참조 변수가 다릅니다.\n                var getDataSize = function getDataSize(data) {\n                    if (data == null) {\n                        return 0;\n                    }\n                    var size = 0;\n                    if (window.ArrayBuffer != null) {\n                        if (data instanceof window.ArrayBuffer) size = data.byteLength;\n                    }\n                    if (window.Blob != null) {\n                        if (data instanceof window.Blob) size = data.size;\n                    }\n                    if (typeof data.length == 'number') // string?\n                        size = data.length;\n\n                    return size;\n                };\n\n                // xhr 객체에 추가해둔 호출 정보를 배열에 저장합니다. 수집 서버에 보낼 배열입니다.\n                var pushAjaxRequest = function pushAjaxRequest(xhr, sentSize) {\n                    try {\n                        var endTime = now();\n                        var _url = xhr._demianURL;\n                        var callbackTime = endTime - xhr._demianCallbackStartTime;\n                        var serverTime = xhr._demianCallbackStartTime - xhr._demianStartTime;\n                        var method = xhr._demianMethod;\n\n                        var response = null;\n                        try {\n                            // Read response could be invalid.\n                            response = xhr.response || xhr.responseText || null;\n                        } catch (_) {\n                            response = null;\n                        }\n\n                        var status = xhr.status;\n                        if (status == 0) // Send fail is network error\n                            status = 0;\n\n                        var recvSize = getDataSize(response);\n                        var body = [_url, [serverTime, callbackTime], [sentSize, recvSize], status, method];\n                        if (xhr._demianPushed === false) {\n                            ajaxRequest.push(body);\n                            xhr._demianPushed = true;\n                        }\n                    } catch (e) {\n                        logError('PUSH AJAX: ' + url + ' ' + e.toString());\n                    }\n                };\n\n                var pushAjaxNetworkErrorRequest = function pushAjaxNetworkErrorRequest(xhr) {\n                    try {\n                        var _url2 = xhr._demianURL;\n                        var method = xhr._demianMethod;\n                        var body = [_url2, null, null, 0, method];\n                        ajaxRequest.push(body);\n                    } catch (e) {\n                        logError('PUSH ERROR AJAX: ' + url + ' ' + e.toString());\n                    }\n                };\n\n                hasJqueryHooked = typeof window.$ !== 'function';\n\n                // open 메소드의 파라미터 정보를 객체에 저장해둡니다.\n                XMLHttpRequest.prototype.open = function (method, url) {\n                    // be careful...\n                    var xhr = this;\n                    // be careful...\n                    try {\n                        if (!xhr._demianNotCollect) {\n                            xhr._demianURL = url;\n                            xhr._demianStartTime = now();\n                            xhr._demianMethod = method;\n                            xhr._demianPushed = false;\n                        }\n                    } catch (e) {\n                        logError('OPEN AJAX: ' + e.toString());\n                    } finally {\n                        // 메소드를 다시 현재 컨텍스트에 바인딩해서 돌려놓습니다.\n                        open.apply(this, arguments);\n                    }\n                };\n\n                XMLHttpRequest.prototype.send = function (data) {\n                    // be careful...\n                    var xhr = this;\n                    var onloadendSuppport = 'onloadend' in XMLHttpRequest.prototype;\n                    // be careful...\n                    try {\n                        if (!xhr._demianNotCollect) {\n                            xhr._demianTimeouted = false;\n                            var sentSize = getDataSize(data);\n\n                            if (xhr.addEventListener) {\n                                // loadend일 때 xhr 요청이 끝났음을 의미\n                                if (onloadendSuppport) {\n                                    xhr.addEventListener('loadend', function () {\n                                        pushAjaxRequest(xhr, sentSize);\n                                    });\n                                }\n\n                                // loadend를 지원하지 않는 브라우저의 경우 readystate로 요청 상태를 확인합니다.\n                                xhr.addEventListener('readystatechange', function () {\n                                    if (xhr.readyState == 4) {\n                                        xhr._demianCallbackStartTime = now();\n                                        if (!onloadendSuppport) {\n                                            setTimeout(function () {\n                                                pushAjaxRequest(xhr, sentSize);\n                                            }, 0);\n                                        }\n                                    }\n                                });\n                            }\n                        }\n                    } catch (e) {\n                        logError('SEND AJAX: ' + xhr._demianURL + ' ' + e.toString());\n                    } finally {\n                        try {\n                            send.apply(this, arguments);\n                        } catch (e) {\n                            try {\n                                // send 시에 error가 발생하면 일부를 null 값을로 별도로 보냅니다.\n                                pushAjaxNetworkErrorRequest(xhr);\n                            } catch (e2) {\n                                logError('SEND ERROR AJAX: ' + xhr._demianURL + ' ' + e.toString());\n                            }\n                            throw e;\n                        }\n                    }\n                };\n            }\n\n            if (window.fetch != null && window.Promise != null) {\n                var originThen = Promise.prototype.then;\n                // Promise가 resolve 되었을 때 실행되는 then을 hooking\n                Promise.prototype.then = function () {\n                    if (this._demianOnTrace) {\n                        var ret = originThen.apply(this, arguments);\n                        ret['finally'](function () {\n                            // 요청이 끝난 시점의 컨텍스트로 정의해둔 메소드를 호출하여 배열에 저장합니다.\n                            if (ret.next == undefined) {\n                                ret._demianOnTrace(ret._demianTraceContext);\n                            }\n                        });\n                        ret._demianOnTrace = this._demianOnTrace;\n                        ret._demianTraceContext = this._demianTraceContext;\n                        this.next = ret;\n                        return ret;\n                    } else {\n                        return originThen.apply(this, arguments);\n                    }\n                };\n\n                var originFetch = window.fetch;\n                window.fetch = function (url, param) {\n                    var _this = this,\n                        _arguments = arguments;\n\n                    try {\n                        var startTime = now();\n                        var method = 'GET';\n                        var sentSize = 0;\n                        if (param != null) {\n                            method = param.method || 'GET';\n                            var body = param.body;\n                            if (body != null && method != 'GET') {\n                                if (body instanceof window.ArrayBuffer) sentSize = body.byteLength;else if (body instanceof window.Blob) sentSize = body.size;else if (body.length != null) // string?\n                                    sentSize = body.length;\n                            }\n                        }\n                        // 화살표 함수의 경우 컨텍스트가 없고 상위 컨텍스트를 따릅니다.\n                        var ret = new Promise(function (resolve, reject) {\n                            // 원래 동작대로 함수를 호출합니다.\n                            originFetch.apply(_this, _arguments).then(function (data) {\n                                try {\n                                    var callbackStartTime = now();\n                                    var status = data.status;\n                                    var serverTime = callbackStartTime - startTime;\n                                    ret._demianTraceContext.content = {\n                                        url: url, serverTime: serverTime, callbackStartTime: callbackStartTime, status: status, method: method, sentSize: sentSize\n                                    };\n                                } catch (e) {\n                                    logError('PROMISE FETCH: ' + e.toString());\n                                } finally {\n                                    resolve.apply(this, arguments);\n                                }\n                            })['catch'](function () {\n                                return reject.apply(this, arguments);\n                            });\n                        });\n\n                        ret._demianTraceContext = {};\n\n                        // Promise.then() 에서 정의한 컨텍스트 변수들을 수집 배열에 담는 함수를 정의합니다.\n                        ret._demianOnTrace = function (context) {\n                            try {\n                                var content = context.content;\n                                if (content == null) return; // ignore it: TODO: find why it is null\n                                var callbackEndTime = now();\n                                var _url3 = content.url;\n                                var serverTime = content.serverTime;\n                                var callbackTime = callbackEndTime - content.callbackStartTime;\n                                var status = content.status;\n                                var _method = content.method;\n                                var _sentSize = content.sentSize;\n\n                                var _body = [_url3, [serverTime, callbackTime], [_sentSize, 0], status, _method];\n                                // fetch(JSON.stringify(body), `${appId}/ajax`, false);\n                                ajaxRequest.push(_body);\n                            } catch (e) {\n                                logError('PUSH FETCH: ' + e.toString());\n                            }\n                        };\n\n                        return ret;\n                    } catch (e) {\n                        logError('FETCH: ' + e.toString());\n                        return originFetch(url, param);\n                    }\n                };\n            }\n        };\n\n        var sendData = function sendData(applicationId, pageId, url) {\n            var scriptTags = document.getElementsByTagName('script');\n            var scriptTag = [];\n            var hasJquery = false;\n            for (var i = 0; i < scriptTags.length; i++) {\n                // ignore inline scripts..\n                if (scriptTags[i].src == '' || !scriptTags[i].src) continue;\n                scriptTag.push({\n                    src: scriptTags[i].src,\n                    async: scriptTags[i].async ? true : false\n                });\n                if (!hasJquery && scriptTags[i].src.indexOf('jquery') > 0) {\n                    hasJquery = true;\n                }\n            }\n            var performance = {};\n            if (window.performance.timing) {\n                var t = window.performance.timing;\n                performance.timing = {\n                    navigationStart: t.navigationStart,\n                    unloadEventStart: t.unloadEventStart,\n                    unloadEventEnd: t.unloadEventEnd,\n                    redirectStart: t.redirectStart,\n                    redirectEnd: t.redirectEnd,\n                    fetchStart: t.fetchStart,\n                    domainLookupStart: t.domainLookupStart,\n                    domainLookupEnd: t.domainLookupEnd,\n                    connectStart: t.connectStart,\n                    connectEnd: t.connectEnd,\n                    secureConnectionStart: t.secureConnectionStart,\n                    requestStart: t.requestStart,\n                    responseStart: t.responseStart,\n                    responseEnd: t.responseEnd,\n                    domLoading: t.domLoading,\n                    domInteractive: t.domInteractive,\n                    domContentLoadedEventStart: t.domContentLoadedEventStart,\n                    domContentLoadedEventEnd: t.domContentLoadedEventEnd,\n                    domComplete: t.domComplete,\n                    loadEventStart: t.loadEventStart,\n                    loadEventEnd: t.loadEventEnd\n                };\n            }\n\n            if (window.performance.getEntriesByType && window.performance.timing) {\n                // fucking IE: check IE 10-11: IE support wired PerformanceNavigationTiming\n                var isIE = window.navigator.msPointerEnabled;\n                if (isIE) {\n                    performance.entries = window.performance.getEntriesByType('resource');\n                    if (window.performance.timing && window.performance.timing.msFirstPaint) {\n                        var _t = window.performance.timing;\n                        performance.entries.push({\n                            entryType: 'paint',\n                            name: 'first-paint',\n                            startTime: _t.msFirstPaint - _t.navigationStart,\n                            duration: 0\n                        });\n                    }\n                } else {\n                    // in some old Chrome Timing does not have property..\n                    performance.entries = [];\n\n                    // higher priority than performance.timing\n\n                    var _window$performance$g = window.performance.getEntriesByType('navigation'),\n                        _window$performance$g2 = _slicedToArray(_window$performance$g, 1),\n                        navigation = _window$performance$g2[0];\n\n                    performance.entries.push(navigation.toJSON());\n\n                    var resources = window.performance.getEntriesByType('resource');\n                    for (var _i = 0; _i < resources.length; _i++) {\n                        var r = resources[_i];\n                        performance.entries.push({\n                            entryType: r.entryType,\n                            name: r.name,\n                            startTime: r.startTime,\n                            duration: r.duration,\n                            initiatorType: r.initiatorType,\n                            nextHopProtocol: r.nextHopProtocol,\n                            workerStart: r.workerStart,\n                            redirectStart: r.redirectStart,\n                            redirectEnd: r.redirectEnd,\n                            fetchStart: r.fetchStart,\n                            domainLookupStart: r.domainLookupStart,\n                            domainLookupEnd: r.domainLookupEnd,\n                            connectStart: r.connectStart,\n                            connectEnd: r.connectEnd,\n                            secureConnectionStart: r.secureConnectionStart,\n                            requestStart: r.requestStart,\n                            responseStart: r.responseStart,\n                            responseEnd: r.responseEnd,\n                            transferSize: r.transferSize,\n                            encodedBodySize: r.encodedBodySize,\n                            decodedBodySize: r.decodedBodySize\n                        });\n                    }\n\n                    var paints = window.performance.getEntriesByType('paint');\n                    for (var _i2 = 0; _i2 < paints.length; _i2++) {\n                        var p = paints[_i2];\n                        performance.entries.push({\n                            entryType: p.entryType,\n                            name: p.name,\n                            startTime: p.startTime,\n                            duration: p.duration\n                        });\n                    }\n                }\n            }\n\n            var body = {\n                applicationId: applicationId,\n                samplingRatio: sampling_ratio,\n                hookedIfJquery: hasJquery ? hasJqueryHooked : undefined,\n                url: url,\n                performance: performance,\n                loadFinished: true,\n                pageId: pageId,\n                scriptTag: scriptTag,\n                scriptError: scriptError,\n                visitorId: getVisitorId(),\n                extra: {}\n            };\n            if (cpuIdleTime != null) body.cpuIdleTime = cpuIdleTime;\n            if (body == null) logError('body is empty');\n            if (navigator.connection != null) {\n                var c = navigator.connection;\n                body.extra.connection = {\n                    'downlink': c.downlink,\n                    'rtt': c.rtt,\n                    'type': c.type,\n                    'downlinkMax': c.downlinkMax,\n                    'effectiveType': c.effectiveType\n                };\n            }\n            if (window.performance.memory != null) {\n                var mem = window.performance.memory;\n                body.extra.memory = {\n                    totalJSHeapSize: mem.totalJSHeapSize,\n                    usedJSHeapSize: mem.usedJSHeapSize,\n                    jsHeapSizeLimit: mem.jsHeapSizeLimit\n                };\n            }\n\n            if (navigator.hardwareConcurrency != null) {\n                body.extra.cpuCount = navigator.hardwareConcurrency;\n            }\n\n            // Check JENNIFER APM INTG\n            // first check in navigation\n            var jenniferIntg = null;\n            if (window.performance.getEntriesByType && window.performance.timing) {\n                var _navigation = window.performance.getEntriesByType('navigation');\n                if (_navigation && _navigation.length > 0 && window.PerformanceNavigationTiming != null && _navigation[0] instanceof window.PerformanceNavigationTiming && _navigation[0].serverTiming != undefined) {\n                    var timings = _navigation[0].serverTiming;\n                    for (var _i3 in timings) {\n                        var timing = timings[_i3];\n                        if (timing.name == 'jennifer-front') {\n                            jenniferIntg = timing.description;\n                        }\n                    }\n                }\n            }\n\n            // if not found in server-timing\n            if (jenniferIntg == null && typeof window.dmnajennifer === 'string' && window.dmnajennifer !== 'JENNIFER_FRONT@INTG') {\n                var paramsText = window.dmnajennifer.split('@INTG');\n                if (paramsText.length == 2 && paramsText[1] != '') {\n                    jenniferIntg = paramsText[1];\n                }\n            }\n\n            if (jenniferIntg !== null) {\n                try {\n                    var params = jenniferIntg.split(',');\n                    if (params != null && params.length == 4) {\n                        if (params[3] != 'NOT_SEND') {\n                            fetchAPM(pageId, body, params[3], params[0]);\n                        } // ignore when url is empty\n                        body.jenniferAPM = {\n                            'transactionId': params[0],\n                            'collectTime': parseInt(params[1]),\n                            'domainId': params[2]\n                        };\n                    }\n                } catch (e) {\n                    logError('PARSE TXID EXCEPTION: ' + e.toString());\n                }\n            }\n\n            var userId = getUserSetting('set', 'userId');\n            if (userId != null) {\n                body.capturedUserId = userId;\n            }\n\n            // send!\n            fetch(JSONStringify(body));\n\n            if (performance.clearResourceTimings !== null) {\n                var originClearResource = performance.clearResourceTimings;\n                performance.clearResourceTimings = function () {\n                    logError('CLEAR RESOURCES TIMINGS CALLED');\n                    return originClearResource();\n                };\n            }\n            // fire script error timer!\n            var sendScrap = function sendScrap() {\n                if (filterLocalhost()) return;\n                sendScriptErrors(pageId);\n                sendResources(pageId);\n                sendAjaxRequests(pageId);\n                if (isServerAlive === true) {\n                    setTimeout(function () {\n                        sendScrap(); // retry after 1s\n                    }, 1000);\n                }\n            };\n\n            sendScrap();\n        };\n\n        var main = function main(pageId) {\n            if (document.readyState != 'complete') {\n                window.addEventListener('load', function () {\n                    setTimeout(function () {\n                        sendData(appId, pageId, url);\n                    }, 0);\n                });\n            } else {\n                sendData(appId, pageId, url);\n            }\n        };\n\n        // check requirements\n\n\n        if (location.protocol != 'http:' && location.protocol != 'https:') return; // exit if protocol is not http or https\n        var start = now();\n        var appId = window.dmnaid;\n        var url = location.href;\n        var VISITOR_ID = 'D_VISITOR_ID';\n        var DOMAIN = location.protocol + '//d-collector.jennifersoft.com';\n        if (appId == null) return; // exit\n\n        // check requirements\n        // apply active x object\n        if (url == null || url == '') return;\n\n        var cpuIdleTime = null;\n        var ajaxRequest = [];\n        var resourceCursor = 0;\n        var hasJqueryHooked = false;\n\n        if (window.JSON == null || window.JSON.stringify == null || window.performance == null || window.performance.timing == null || window.addEventListener == null // Some tricky IE compatibility mode...\n        ) {\n                sendWithImage();\n            } else {\n            if (filterLocalhost()) return;\n\n            var pageId = guid();\n            getCpuIdle();\n            scrapErrors();\n            scrapAjax(pageId);\n            main(pageId);\n        }\n    } catch (e) {\n        logError('MAIN EXCEPTION: ' + e.toString());\n    }\n})();\n\n"]}